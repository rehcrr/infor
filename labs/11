#include <stdio.h>
#include <string.h>

typedef enum _kState
{
    FIND,
    Swaper,
    Space
} kState;

int isSpace(char ch)
{
    if (ch != ' ') {
        return 0;
    }
    else {
        return 1;
    }
}

int main(void)
{
    char ch;
    kState state = FIND;
    char array[1000] = {0}; 
    int index = 0; 
    int prevCharIsNewLine = 0;

    while ((ch = getchar()) != EOF)
    {
        switch (state)
        {
            case FIND:
            {
                if (ch != '\n') {
                    array[index++] = ch; 
                } else {
                    if (!prevCharIsNewLine) {
                        array[index++] = ch; 
                    }
                    prevCharIsNewLine = 1;
                    state = Swaper;
                }
            }
            break;

            case Swaper:
            {
                if (ch != '\n') {
                    array[index++] = ' '; 
                    prevCharIsNewLine = 0;
                    state = Space;
                }
                else {
                    array[index] = '\n'; 
                    array[index++] = '\n'; 
                    prevCharIsNewLine = 1;
                    state = FIND;
                }
            }
            break;
            case Space:
            {
                if (isSpace(ch) == 0) {
                    array[index++] = ch; 
                    state = FIND;
                }
                else {
                    state = Space;
                }
            }
            break;
        }
    }

    array[index] = '\0'; 

    printf("%s\n", array); 

    return 0;
}

 printf("%s\n", array); // выводим сохраненные данные

 return 0;
}
